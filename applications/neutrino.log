
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
Jobstore default:
    event_download_stock_data (trigger: cron[hour='19'], next run at: 2019-09-14 19:00:00 CST)
    event_record_stock (trigger: cron[hour='20'], next run at: 2019-09-14 20:00:00 CST)
    event_init_stock (trigger: cron[hour='23'], next run at: 2019-09-14 23:00:00 CST)
    event_create_interest_table (trigger: cron[hour='17'], next run at: 2019-09-15 17:00:00 CST)
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
Sat Sep 14 18:25:11 2019: Neutrino is stopped.
2019-09-14 18:25:11 [ERROR]: Exception during reset or similar
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/dist-packages/pymysql/connections.py", line 713, in _write_bytes
    self._sock.sendall(data)
BrokenPipeError: [Errno 32] Broken pipe

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/dist-packages/sqlalchemy/pool/base.py", line 680, in _finalize_fairy
    fairy._reset(pool)
  File "/usr/local/lib/python3.6/dist-packages/sqlalchemy/pool/base.py", line 867, in _reset
    pool._dialect.do_rollback(self)
  File "/usr/local/lib/python3.6/dist-packages/sqlalchemy/dialects/mysql/base.py", line 2227, in do_rollback
    dbapi_connection.rollback()
  File "/usr/local/lib/python3.6/dist-packages/pymysql/connections.py", line 429, in rollback
    self._execute_command(COMMAND.COM_QUERY, "ROLLBACK")
  File "/usr/local/lib/python3.6/dist-packages/pymysql/connections.py", line 771, in _execute_command
    self._write_bytes(packet)
  File "/usr/local/lib/python3.6/dist-packages/pymysql/connections.py", line 718, in _write_bytes
    "MySQL server has gone away (%r)" % (e,))
pymysql.err.OperationalError: (2006, "MySQL server has gone away (BrokenPipeError(32, 'Broken pipe'))")
Sat Sep 14 18:26:56 2019: Neutrino id is 31455.
Sat Sep 14 18:26:56 2019: Neutrino started with pid 31455

Sat Sep 14 18:26:56 2019: Neptune start.

Sat Sep 14 18:26:56 2019: Neutrino is running.

Sat Sep 14 18:26:56 2019: Checking task file.

/usr/local/lib/python3.6/dist-packages/pymysql/cursors.py:170: Warning: (1300, "Invalid utf8mb4 character string: '800495'")
  result = self._query(query)
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
Jobstore default:
    event_download_stock_data (trigger: cron[hour='19'], next run at: 2019-09-14 19:00:00 CST)
    event_record_stock (trigger: cron[hour='20'], next run at: 2019-09-14 20:00:00 CST)
    event_init_stock (trigger: cron[hour='23'], next run at: 2019-09-14 23:00:00 CST)
    event_create_interest_table (trigger: cron[hour='17'], next run at: 2019-09-15 17:00:00 CST)
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
Sat Sep 14 18:56:57 2019: Neutrino is running.

Sat Sep 14 18:56:57 2019: Checking task file.

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
Jobstore default:
    event_download_stock_data (trigger: cron[hour='19'], next run at: 2019-09-14 19:00:00 CST)
    event_record_stock (trigger: cron[hour='20'], next run at: 2019-09-14 20:00:00 CST)
    event_init_stock (trigger: cron[hour='23'], next run at: 2019-09-14 23:00:00 CST)
    event_create_interest_table (trigger: cron[hour='17'], next run at: 2019-09-15 17:00:00 CST)
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
2019-09-14 19:00:00,005 INFO sqlalchemy.engine.base.Engine SELECT apscheduler_jobs.id, apscheduler_jobs.job_state 
FROM apscheduler_jobs 
WHERE apscheduler_jobs.next_run_time <= %(next_run_time_1)s ORDER BY apscheduler_jobs.next_run_time
2019-09-14 19:00:00 [INFO]: SELECT apscheduler_jobs.id, apscheduler_jobs.job_state 
FROM apscheduler_jobs 
WHERE apscheduler_jobs.next_run_time <= %(next_run_time_1)s ORDER BY apscheduler_jobs.next_run_time
2019-09-14 19:00:00,005 INFO sqlalchemy.engine.base.Engine {'next_run_time_1': 1568458800.003955}
2019-09-14 19:00:00 [INFO]: {'next_run_time_1': 1568458800.003955}
2019-09-14 19:00:00 [WARNING]: Execution of job "event_download_stock_data (trigger: cron[hour='19'], next run at: 2019-09-14 19:00:00 CST)" skipped: maximum number of running instances reached (1)
2019-09-14 19:00:00,008 INFO sqlalchemy.engine.base.Engine UPDATE apscheduler_jobs SET next_run_time=%(next_run_time)s, job_state=%(job_state)s WHERE apscheduler_jobs.id = %(id_1)s
2019-09-14 19:00:00 [INFO]: UPDATE apscheduler_jobs SET next_run_time=%(next_run_time)s, job_state=%(job_state)s WHERE apscheduler_jobs.id = %(id_1)s
2019-09-14 19:00:00,009 INFO sqlalchemy.engine.base.Engine {'next_run_time': 1568545200.0, 'job_state': b'\x80\x04\x95\xfe\x03\x00\x00\x00\x00\x00\x00}\x94(\x8c\x07version\x94K\x01\x8c\x02id\x94\x8c\x19event_download_stock_data\x94\x8c\x04func\x94\x8c\x1 ... (1657 characters truncated) ... 08datetime\x94\x8c\x08datetime\x94\x93\x94C\n\x07\xe3\t\x0f\x13\x00\x00\x00\x00\x00\x94h\x0f(h\x10M\x80pK\x00\x8c\x03CST\x94t\x94R\x94\x86\x94R\x94u.', 'id_1': 'event_download_stock_data'}
2019-09-14 19:00:00 [INFO]: {'next_run_time': 1568545200.0, 'job_state': b'\x80\x04\x95\xfe\x03\x00\x00\x00\x00\x00\x00}\x94(\x8c\x07version\x94K\x01\x8c\x02id\x94\x8c\x19event_download_stock_data\x94\x8c\x04func\x94\x8c\x1 ... (1657 characters truncated) ... 08datetime\x94\x8c\x08datetime\x94\x93\x94C\n\x07\xe3\t\x0f\x13\x00\x00\x00\x00\x00\x94h\x0f(h\x10M\x80pK\x00\x8c\x03CST\x94t\x94R\x94\x86\x94R\x94u.', 'id_1': 'event_download_stock_data'}
2019-09-14 21:00:00,005 INFO sqlalchemy.engine.base.Engine SELECT apscheduler_jobs.id, apscheduler_jobs.job_state 
FROM apscheduler_jobs 
WHERE apscheduler_jobs.next_run_time <= %(next_run_time_1)s ORDER BY apscheduler_jobs.next_run_time
2019-09-14 21:00:00 [INFO]: SELECT apscheduler_jobs.id, apscheduler_jobs.job_state 
FROM apscheduler_jobs 
WHERE apscheduler_jobs.next_run_time <= %(next_run_time_1)s ORDER BY apscheduler_jobs.next_run_time
2019-09-14 21:00:00,005 INFO sqlalchemy.engine.base.Engine {'next_run_time_1': 1568466000.004232}
2019-09-14 21:00:00 [INFO]: {'next_run_time_1': 1568466000.004232}
2019-09-14 21:00:00 [ERROR]: Unable to restore job "event_create_interest_table" -- removing it
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/dist-packages/apscheduler/util.py", line 289, in ref_to_obj
    obj = getattr(obj, name)
AttributeError: module 'event' has no attribute 'event_create_interest_table'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/dist-packages/apscheduler/jobstores/sqlalchemy.py", line 141, in _get_jobs
    jobs.append(self._reconstitute_job(row.job_state))
  File "/usr/local/lib/python3.6/dist-packages/apscheduler/jobstores/sqlalchemy.py", line 128, in _reconstitute_job
    job.__setstate__(job_state)
  File "/usr/local/lib/python3.6/dist-packages/apscheduler/job.py", line 272, in __setstate__
    self.func = ref_to_obj(self.func_ref)
  File "/usr/local/lib/python3.6/dist-packages/apscheduler/util.py", line 292, in ref_to_obj
    raise LookupError('Error resolving reference %s: error looking up object' % ref)
LookupError: Error resolving reference event:event_create_interest_table: error looking up object
2019-09-14 21:00:00,298 INFO sqlalchemy.engine.base.Engine DELETE FROM apscheduler_jobs WHERE apscheduler_jobs.id IN (%(id_1)s)
2019-09-14 21:00:00 [INFO]: DELETE FROM apscheduler_jobs WHERE apscheduler_jobs.id IN (%(id_1)s)
2019-09-14 21:00:00,298 INFO sqlalchemy.engine.base.Engine {'id_1': 'event_create_interest_table'}
2019-09-14 21:00:00 [INFO]: {'id_1': 'event_create_interest_table'}
2019-09-14 21:00:00,299 INFO sqlalchemy.engine.base.Engine COMMIT
2019-09-14 21:00:00 [INFO]: COMMIT
2019-09-14 21:00:00,406 INFO sqlalchemy.engine.base.Engine SELECT apscheduler_jobs.next_run_time 
FROM apscheduler_jobs 
WHERE apscheduler_jobs.next_run_time IS NOT NULL ORDER BY apscheduler_jobs.next_run_time 
 LIMIT %(param_1)s
2019-09-14 21:00:00 [INFO]: SELECT apscheduler_jobs.next_run_time 
FROM apscheduler_jobs 
WHERE apscheduler_jobs.next_run_time IS NOT NULL ORDER BY apscheduler_jobs.next_run_time 
 LIMIT %(param_1)s
2019-09-14 21:00:00,407 INFO sqlalchemy.engine.base.Engine {'param_1': 1}
2019-09-14 21:00:00 [INFO]: {'param_1': 1}
Sat Sep 14 21:26:59 2019: Neutrino is running.

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
Job "event_download_stock_data (trigger: cron[hour='22'], next run at: 2019-09-15 22:00:00 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/home/friederich/Documents/dev/neutrino/applications/event.py", line 30, in event_download_stock_data
    event.download_stock_data()
  File "/home/friederich/Documents/dev/neutrino/applications/libstock.py", line 206, in download_stock_data
    self._download_stock_data(x[0])
  File "/home/friederich/Documents/dev/neutrino/applications/libstock.py", line 164, in _download_stock_data
    result = self._get_file_from_net_ease(stock_code)
NameError: name '_get_file' is not defined
Sat Sep 14 22:27:00 2019: Neutrino is running.

Sat Sep 14 22:27:00 2019: Checking task file.

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
Jobstore default:
    event_init_stock (trigger: cron[hour='19'], next run at: 2019-09-15 19:00:00 CST)
    event_record_stock (trigger: cron[hour='20'], next run at: 2019-09-15 20:00:00 CST)
    event_create_interest_table (trigger: cron[hour='21'], next run at: 2019-09-15 21:00:00 CST)
    event_download_stock_data (trigger: cron[hour='22'], next run at: 2019-09-15 22:00:00 CST)
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
Sat Sep 14 22:57:00 2019: Neutrino is running.

Sat Sep 14 22:57:00 2019: Checking task file.

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
Jobstore default:
    event_init_stock (trigger: cron[hour='19'], next run at: 2019-09-15 19:00:00 CST)
    event_record_stock (trigger: cron[hour='20'], next run at: 2019-09-15 20:00:00 CST)
    event_create_interest_table (trigger: cron[hour='21'], next run at: 2019-09-15 21:00:00 CST)
    event_download_stock_data (trigger: cron[hour='22'], next run at: 2019-09-15 22:00:00 CST)
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
2019-09-14 23:00:00,405 INFO sqlalchemy.engine.base.Engine SELECT apscheduler_jobs.id, apscheduler_jobs.job_state 
FROM apscheduler_jobs 
WHERE apscheduler_jobs.next_run_time <= %(next_run_time_1)s ORDER BY apscheduler_jobs.next_run_time
2019-09-14 23:00:00 [INFO]: SELECT apscheduler_jobs.id, apscheduler_jobs.job_state 
FROM apscheduler_jobs 
WHERE apscheduler_jobs.next_run_time <= %(next_run_time_1)s ORDER BY apscheduler_jobs.next_run_time
2019-09-14 23:00:00,405 INFO sqlalchemy.engine.base.Engine {'next_run_time_1': 1568473200.404023}
2019-09-14 23:00:00 [INFO]: {'next_run_time_1': 1568473200.404023}
2019-09-14 23:00:00,408 INFO sqlalchemy.engine.base.Engine SELECT apscheduler_jobs.next_run_time 
FROM apscheduler_jobs 
WHERE apscheduler_jobs.next_run_time IS NOT NULL ORDER BY apscheduler_jobs.next_run_time 
 LIMIT %(param_1)s
2019-09-14 23:00:00 [INFO]: SELECT apscheduler_jobs.next_run_time 
FROM apscheduler_jobs 
WHERE apscheduler_jobs.next_run_time IS NOT NULL ORDER BY apscheduler_jobs.next_run_time 
 LIMIT %(param_1)s
2019-09-14 23:00:00,408 INFO sqlalchemy.engine.base.Engine {'param_1': 1}
2019-09-14 23:00:00 [INFO]: {'param_1': 1}
Sat Sep 14 23:27:00 2019: Neutrino is running.

Sat Sep 14 23:27:00 2019: Checking task file.



+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
Jobstore default:
    event_init_stock (trigger: cron[hour='19'], next run at: 2019-09-15 19:00:00 CST)
    event_record_stock (trigger: cron[hour='20'], next run at: 2019-09-15 20:00:00 CST)
    event_create_interest_table (trigger: cron[hour='21'], next run at: 2019-09-15 21:00:00 CST)
    event_download_stock_data (trigger: cron[hour='9'], next run at: 2019-09-16 09:00:00 CST)
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
Sun Sep 15 09:47:32 2019: Neutrino is stopped.
Exception during reset or similar
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/dist-packages/pymysql/connections.py", line 713, in _write_bytes
    self._sock.sendall(data)
BrokenPipeError: [Errno 32] Broken pipe

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/dist-packages/sqlalchemy/pool/base.py", line 680, in _finalize_fairy
    fairy._reset(pool)
  File "/usr/local/lib/python3.6/dist-packages/sqlalchemy/pool/base.py", line 867, in _reset
    pool._dialect.do_rollback(self)
  File "/usr/local/lib/python3.6/dist-packages/sqlalchemy/dialects/mysql/base.py", line 2227, in do_rollback
    dbapi_connection.rollback()
  File "/usr/local/lib/python3.6/dist-packages/pymysql/connections.py", line 429, in rollback
    self._execute_command(COMMAND.COM_QUERY, "ROLLBACK")
  File "/usr/local/lib/python3.6/dist-packages/pymysql/connections.py", line 771, in _execute_command
    self._write_bytes(packet)
  File "/usr/local/lib/python3.6/dist-packages/pymysql/connections.py", line 718, in _write_bytes
    "MySQL server has gone away (%r)" % (e,))
pymysql.err.OperationalError: (2006, "MySQL server has gone away (BrokenPipeError(32, 'Broken pipe'))")
Exception during reset or similar
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/dist-packages/pymysql/connections.py", line 713, in _write_bytes
    self._sock.sendall(data)
BrokenPipeError: [Errno 32] Broken pipe

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/dist-packages/sqlalchemy/pool/base.py", line 680, in _finalize_fairy
    fairy._reset(pool)
  File "/usr/local/lib/python3.6/dist-packages/sqlalchemy/pool/base.py", line 867, in _reset
    pool._dialect.do_rollback(self)
  File "/usr/local/lib/python3.6/dist-packages/sqlalchemy/dialects/mysql/base.py", line 2227, in do_rollback
    dbapi_connection.rollback()
  File "/usr/local/lib/python3.6/dist-packages/pymysql/connections.py", line 429, in rollback
    self._execute_command(COMMAND.COM_QUERY, "ROLLBACK")
  File "/usr/local/lib/python3.6/dist-packages/pymysql/connections.py", line 771, in _execute_command
    self._write_bytes(packet)
  File "/usr/local/lib/python3.6/dist-packages/pymysql/connections.py", line 718, in _write_bytes
    "MySQL server has gone away (%r)" % (e,))
pymysql.err.OperationalError: (2006, "MySQL server has gone away (BrokenPipeError(32, 'Broken pipe'))")
Exception during reset or similar
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/dist-packages/pymysql/connections.py", line 713, in _write_bytes
    self._sock.sendall(data)
BrokenPipeError: [Errno 32] Broken pipe

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/dist-packages/sqlalchemy/pool/base.py", line 680, in _finalize_fairy
    fairy._reset(pool)
  File "/usr/local/lib/python3.6/dist-packages/sqlalchemy/pool/base.py", line 867, in _reset
    pool._dialect.do_rollback(self)
  File "/usr/local/lib/python3.6/dist-packages/sqlalchemy/dialects/mysql/base.py", line 2227, in do_rollback
    dbapi_connection.rollback()
  File "/usr/local/lib/python3.6/dist-packages/pymysql/connections.py", line 429, in rollback
    self._execute_command(COMMAND.COM_QUERY, "ROLLBACK")
  File "/usr/local/lib/python3.6/dist-packages/pymysql/connections.py", line 771, in _execute_command
    self._write_bytes(packet)
  File "/usr/local/lib/python3.6/dist-packages/pymysql/connections.py", line 718, in _write_bytes
    "MySQL server has gone away (%r)" % (e,))
pymysql.err.OperationalError: (2006, "MySQL server has gone away (BrokenPipeError(32, 'Broken pipe'))")
Sun Sep 15 09:47:36 2019: Neutrino id is 4826.
Sun Sep 15 09:47:36 2019: Neutrino started with pid 4826

Sun Sep 15 09:47:36 2019: Neptune start.

Sun Sep 15 09:47:36 2019: Neutrino is running.

Sun Sep 15 09:47:36 2019: Checking task file.

/usr/local/lib/python3.6/dist-packages/pymysql/cursors.py:170: Warning: (1300, "Invalid utf8mb4 character string: '800495'")
  result = self._query(query)
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
Jobstore default:
    event_download_stock_data (trigger: cron[hour='10'], next run at: 2019-09-15 10:00:00 CST)
    event_init_stock (trigger: cron[hour='19'], next run at: 2019-09-15 19:00:00 CST)
    event_record_stock (trigger: cron[hour='20'], next run at: 2019-09-15 20:00:00 CST)
    event_create_interest_table (trigger: cron[hour='21'], next run at: 2019-09-15 21:00:00 CST)
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
Sun Sep 15 10:42:07 2019: Neutrino is stopped.
Sun Sep 15 16:51:06 2019: Neutrino id is 16817.
Sun Sep 15 16:51:06 2019: Neutrino started with pid 16817

Sun Sep 15 16:51:06 2019: Neptune start.

Sun Sep 15 16:51:06 2019: Neutrino is running.

Sun Sep 15 16:51:06 2019: Checking task file.

/usr/local/lib/python3.6/dist-packages/pymysql/cursors.py:170: Warning: (1300, "Invalid utf8mb4 character string: '800495'")
  result = self._query(query)
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
Jobstore default:
    event_init_stock (trigger: cron[hour='19'], next run at: 2019-09-15 19:00:00 CST)
    event_record_stock (trigger: cron[hour='20'], next run at: 2019-09-15 20:00:00 CST)
    event_create_interest_table (trigger: cron[hour='21'], next run at: 2019-09-15 21:00:00 CST)
    event_download_stock_data (trigger: cron[hour='10'], next run at: 2019-09-16 10:00:00 CST)
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
Sun Sep 15 17:21:06 2019: Neutrino is running.

Sun Sep 15 17:21:06 2019: Checking task file.

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
Jobstore default:
    event_init_stock (trigger: cron[hour='19'], next run at: 2019-09-15 19:00:00 CST)
    event_record_stock (trigger: cron[hour='20'], next run at: 2019-09-15 20:00:00 CST)
    event_create_interest_table (trigger: cron[hour='21'], next run at: 2019-09-15 21:00:00 CST)
    event_download_stock_data (trigger: cron[hour='10'], next run at: 2019-09-16 10:00:00 CST)
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
Sun Sep 15 17:51:07 2019: Neutrino is running.

Sun Sep 15 17:51:07 2019: Checking task file.

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
Jobstore default:
    event_init_stock (trigger: cron[hour='19'], next run at: 2019-09-15 19:00:00 CST)
    event_record_stock (trigger: cron[hour='20'], next run at: 2019-09-15 20:00:00 CST)
    event_create_interest_table (trigger: cron[hour='21'], next run at: 2019-09-15 21:00:00 CST)
    event_download_stock_data (trigger: cron[hour='10'], next run at: 2019-09-16 10:00:00 CST)
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
Sun Sep 15 18:21:07 2019: Neutrino is running.

Sun Sep 15 18:21:07 2019: Checking task file.

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
Jobstore default:
    event_init_stock (trigger: cron[hour='19'], next run at: 2019-09-15 19:00:00 CST)
    event_record_stock (trigger: cron[hour='20'], next run at: 2019-09-15 20:00:00 CST)
    event_create_interest_table (trigger: cron[hour='21'], next run at: 2019-09-15 21:00:00 CST)
    event_download_stock_data (trigger: cron[hour='10'], next run at: 2019-09-16 10:00:00 CST)
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
Sun Sep 15 18:51:08 2019: Neutrino is running.

Sun Sep 15 18:51:08 2019: Checking task file.




Sun Sep 15 21:16:28 2019: Checking task file.
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
Jobstore default:
    event_create_interest_table (trigger: cron[hour='23'], next run at: 2019-09-16 23:00:00 CST)
    event_init_stock (trigger: cron[hour='19'], next run at: 2019-09-17 19:00:00 CST)
    event_download_stock_data (trigger: cron[hour='20'], next run at: 2019-09-17 20:00:00 CST)
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
Job "event_create_interest_table (trigger: cron[hour='23'], next run at: 2019-09-17 23:00:00 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/home/friederich/Documents/dev/neutrino/applications/event.py", line 37, in event_create_interest_table
    event.create_interest_table()
  File "/home/friederich/Documents/dev/neutrino/applications/libstock.py", line 239, in create_interest_table
    self.fetch_all_stock_list()
  File "/home/friederich/Documents/dev/neutrino/applications/libstock.py", line 53, in fetch_all_stock_list
    result = self.mysql.session.query(
AttributeError: 'sessionmaker' object has no attribute 'query'
Mon Sep 16 23:25:21 2019: Neutrino is running.

Mon Sep 16 23:25:21 2019: Checking task file.

Tue Sep 24 21:55:03 2019: Neutrino is running.

Tue Sep 24 21:55:03 2019: Checking task file.

2019-09-24 21:55:04 [INFO]: Added job "event_record_interest" to job store "default"
add job event_record_interest

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
Jobstore default:
    event_download_stock_data (trigger: cron[hour='22'], next run at: 2019-09-24 22:00:00 CST)
    event_record_interest (trigger: cron[hour='23'], next run at: 2019-09-24 23:00:00 CST)
    event_init_stock (trigger: cron[hour='0'], next run at: 2019-09-25 00:00:00 CST)
    event_flag_stock (trigger: cron[hour='16'], next run at: 2019-09-25 16:00:00 CST)
    event_record_stock (trigger: cron[hour='20'], next run at: 2019-09-25 20:00:00 CST)
    event_create_interest_table (trigger: cron[hour='20'], next run at: 2019-09-25 20:00:00 CST)
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
2019-09-24 22:00:00 [INFO]: Running job "event_download_stock_data (trigger: cron[hour='22'], next run at: 2019-09-24 22:00:00 CST)" (scheduled at 2019-09-24 22:00:00+08:00)
2019-09-24 22:00:00 [ERROR]: Job "event_download_stock_data (trigger: cron[hour='22'], next run at: 2019-09-25 22:00:00 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/home/friederich/Documents/dev/neutrino/applications/event.py", line 31, in event_download_stock_data
    event.download_stock_data()
  File "/home/friederich/Documents/dev/neutrino/applications/libstock.py", line 241, in download_stock_data
    dtype=columetype)
  File "/home/friederich/Documents/dev/neutrino/applications/libstock.py", line 199, in _download_stock_data
    self._record_stock(stock)
  File "/home/friederich/Documents/dev/neutrino/applications/libstock.py", line 137, in _get_file_from_net_ease
    def fetch_name(s):
TypeError: read_json() missing 1 required positional argument: 'jfile'
Thu Sep 26 21:37:56 2019: Neutrino id is 4602.
Thu Sep 26 21:37:56 2019: Neutrino started with pid 4602

Thu Sep 26 21:37:56 2019: Neptune start.

Thu Sep 26 21:37:56 2019: Neutrino is running.

Thu Sep 26 21:37:56 2019: Checking task file.

Run time of job "event_init_stock (trigger: cron[hour='0'], next run at: 2019-09-25 00:00:00 CST)" was missed by 21:37:56.754995
/usr/local/lib/python3.6/dist-packages/pymysql/cursors.py:170: Warning: (1300, "Invalid utf8mb4 character string: '800495'")
  result = self._query(query)
Run time of job "event_flag_stock (trigger: cron[hour='16'], next run at: 2019-09-25 16:00:00 CST)" was missed by 5:37:56.832057
Run time of job "event_record_stock (trigger: cron[hour='20'], next run at: 2019-09-25 20:00:00 CST)" was missed by 1:37:56.941845
Run time of job "event_create_interest_table (trigger: cron[hour='20'], next run at: 2019-09-25 20:00:00 CST)" was missed by 1:37:57.053885
Run time of job "event_download_stock_data (trigger: cron[hour='22'], next run at: 2019-09-25 22:00:00 CST)" was missed by 23:37:57.108868
Run time of job "event_record_interest (trigger: cron[hour='23'], next run at: 2019-09-25 23:00:00 CST)" was missed by 22:37:57.164332
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
Jobstore default:
    event_record_interest (trigger: cron[hour='22'], next run at: 2019-09-26 22:00:00 CST)
    event_init_stock (trigger: cron[hour='0'], next run at: 2019-09-27 00:00:00 CST)
    event_flag_stock (trigger: cron[hour='16'], next run at: 2019-09-27 16:00:00 CST)
    event_record_stock (trigger: cron[hour='20'], next run at: 2019-09-27 20:00:00 CST)
    event_create_interest_table (trigger: cron[hour='20'], next run at: 2019-09-27 20:00:00 CST)
    event_download_stock_data (trigger: cron[hour='21'], next run at: 2019-09-27 21:00:00 CST)

Thu Sep 26 23:29:09 2019: Neutrino is running.

Thu Sep 26 23:29:09 2019: Checking task file.

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
Jobstore default:
    event_init_stock (trigger: cron[hour='0'], next run at: 2019-09-27 00:00:00 CST)
    event_flag_stock (trigger: cron[hour='16'], next run at: 2019-09-27 16:00:00 CST)
    event_record_stock (trigger: cron[hour='20'], next run at: 2019-09-27 20:00:00 CST)
    event_create_interest_table (trigger: cron[hour='20'], next run at: 2019-09-27 20:00:00 CST)
    event_download_stock_data (trigger: cron[hour='21'], next run at: 2019-09-27 21:00:00 CST)
    event_record_interest (trigger: cron[hour='23'], next run at: 2019-09-27 23:00:00 CST)
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
Thu Sep 26 23:59:09 2019: Neutrino is running.

Thu Sep 26 23:59:09 2019: Checking task file.

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
Jobstore default:
    event_init_stock (trigger: cron[hour='0'], next run at: 2019-09-27 00:00:00 CST)
    event_flag_stock (trigger: cron[hour='16'], next run at: 2019-09-27 16:00:00 CST)
    event_record_stock (trigger: cron[hour='20'], next run at: 2019-09-27 20:00:00 CST)
    event_create_interest_table (trigger: cron[hour='20'], next run at: 2019-09-27 20:00:00 CST)
    event_download_stock_data (trigger: cron[hour='21'], next run at: 2019-09-27 21:00:00 CST)
    event_record_interest (trigger: cron[hour='23'], next run at: 2019-09-27 23:00:00 CST)
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
/home/friederich/Documents/dev/neutrino/applications/libstock_dev.py:165: RuntimeWarning: divide by zero encountered in double_scalars
  factor = 1.0
/home/friederich/Documents/dev/neutrino/applications/libstock_dev.py:170: RuntimeWarning: invalid value encountered in double_scalars
  factor = factor*self.df.ix[i-1, 'close']/self.df.ix[i, 'prev_close']
Job "event_rehabilitation (trigger: cron[hour='18'], next run at: 2019-10-20 18:00:00 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/dist-packages/sqlalchemy/engine/base.py", line 1244, in _execute_context
    cursor, statement, parameters, context
  File "/usr/local/lib/python3.6/dist-packages/sqlalchemy/engine/default.py", line 552, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.6/dist-packages/pymysql/cursors.py", line 170, in execute
    result = self._query(query)
  File "/usr/local/lib/python3.6/dist-packages/pymysql/cursors.py", line 328, in _query
    conn.query(q)
  File "/usr/local/lib/python3.6/dist-packages/pymysql/connections.py", line 517, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/usr/local/lib/python3.6/dist-packages/pymysql/connections.py", line 732, in _read_query_result
    result.read()
  File "/usr/local/lib/python3.6/dist-packages/pymysql/connections.py", line 1075, in read
    first_packet = self.connection._read_packet()
  File "/usr/local/lib/python3.6/dist-packages/pymysql/connections.py", line 684, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.6/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.6/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1054, "Unknown column 'inf' in 'field list'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/home/friederich/Documents/dev/neutrino/applications/event.py", line 65, in event_rehabilitation
    event.update_adjust_factor(stock)
  File "/home/friederich/Documents/dev/neutrino/applications/libstock_dev.py", line 218, in update_adjust_factor
    # print(type(index), row['factor'])
  File "/usr/local/lib/python3.6/dist-packages/sqlalchemy/engine/base.py", line 2166, in execute
    return connection.execute(statement, *multiparams, **params)
  File "/usr/local/lib/python3.6/dist-packages/sqlalchemy/engine/base.py", line 982, in execute
    return self._execute_text(object_, multiparams, params)
  File "/usr/local/lib/python3.6/dist-packages/sqlalchemy/engine/base.py", line 1155, in _execute_text
    parameters,
  File "/usr/local/lib/python3.6/dist-packages/sqlalchemy/engine/base.py", line 1248, in _execute_context
    e, statement, parameters, cursor, context
  File "/usr/local/lib/python3.6/dist-packages/sqlalchemy/engine/base.py", line 1466, in _handle_dbapi_exception
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/usr/local/lib/python3.6/dist-packages/sqlalchemy/util/compat.py", line 383, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.6/dist-packages/sqlalchemy/util/compat.py", line 128, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.6/dist-packages/sqlalchemy/engine/base.py", line 1244, in _execute_context
    cursor, statement, parameters, context
  File "/usr/local/lib/python3.6/dist-packages/sqlalchemy/engine/default.py", line 552, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.6/dist-packages/pymysql/cursors.py", line 170, in execute
    result = self._query(query)
  File "/usr/local/lib/python3.6/dist-packages/pymysql/cursors.py", line 328, in _query
    conn.query(q)
  File "/usr/local/lib/python3.6/dist-packages/pymysql/connections.py", line 517, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/usr/local/lib/python3.6/dist-packages/pymysql/connections.py", line 732, in _read_query_result
    result.read()
  File "/usr/local/lib/python3.6/dist-packages/pymysql/connections.py", line 1075, in read
    first_packet = self.connection._read_packet()
  File "/usr/local/lib/python3.6/dist-packages/pymysql/connections.py", line 684, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.6/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.6/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.InternalError: (pymysql.err.InternalError) (1054, "Unknown column 'inf' in 'field list'")
[SQL: update SH600015 set trade_date='2006-03-31 00:00:00',adjust_factor=inf where trade_date='2006-03-31 00:00:00']
(Background on this error at: http://sqlalche.me/e/2j85)
Sat Oct 19 18:53:16 2019: Neutrino is running.

Sat Oct 19 18:53:16 2019: Checking task file.

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
Jobstore default:
    event_record_stock (trigger: cron[hour='20'], next run at: 2019-10-19 20:00:00 CST)
    event_create_interest_table (trigger: cron[hour='20'], next run at: 2019-10-19 20:00:00 CST)
    event_download_stock_data (trigger: cron[hour='21'], next run at: 2019-10-19 21:00:00 CST)
    event_init_stock (trigger: cron[hour='11'], next run at: 2019-10-20 11:00:00 CST)
    event_flag_stock (trigger: cron[hour='12'], next run at: 2019-10-20 12:00:00 CST)
    event_record_interest (trigger: cron[hour='13'], next run at: 2019-10-20 13:00:00 CST)
    event_rehabilitation (trigger: cron[hour='18'], next run at: 2019-10-20 18:00:00 CST)
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
Sat Oct 19 19:23:16 2019: Neutrino is running.

Sat Oct 19 19:23:16 2019: Checking task file.

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
Jobstore default:
    event_record_stock (trigger: cron[hour='20'], next run at: 2019-10-19 20:00:00 CST)
    event_create_interest_table (trigger: cron[hour='20'], next run at: 2019-10-19 20:00:00 CST)
    event_download_stock_data (trigger: cron[hour='21'], next run at: 2019-10-19 21:00:00 CST)
    event_init_stock (trigger: cron[hour='11'], next run at: 2019-10-20 11:00:00 CST)
    event_flag_stock (trigger: cron[hour='12'], next run at: 2019-10-20 12:00:00 CST)
    event_record_interest (trigger: cron[hour='13'], next run at: 2019-10-20 13:00:00 CST)
    event_rehabilitation (trigger: cron[hour='18'], next run at: 2019-10-20 18:00:00 CST)
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
Sat Oct 19 19:53:17 2019: Neutrino is running.

Sat Oct 19 19:53:17 2019: Checking task file.

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
Jobstore default:
    event_record_stock (trigger: cron[hour='20'], next run at: 2019-10-19 20:00:00 CST)
    event_create_interest_table (trigger: cron[hour='20'], next run at: 2019-10-19 20:00:00 CST)
    event_download_stock_data (trigger: cron[hour='21'], next run at: 2019-10-19 21:00:00 CST)
    event_init_stock (trigger: cron[hour='11'], next run at: 2019-10-20 11:00:00 CST)
    event_flag_stock (trigger: cron[hour='12'], next run at: 2019-10-20 12:00:00 CST)
    event_record_interest (trigger: cron[hour='13'], next run at: 2019-10-20 13:00:00 CST)
    event_rehabilitation (trigger: cron[hour='18'], next run at: 2019-10-20 18:00:00 CST)
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-


/usr/local/lib/python3.6/dist-packages/pymysql/cursors.py:170: Warning: (1300, "Invalid utf8mb4 character string: '800495'")
  result = self._query(query)
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
Jobstore default:
    event_record_stock (trigger: cron[hour='20'], next run at: 2019-10-22 20:00:00 CST)
    event_record_interest (trigger: cron[hour='20'], next run at: 2019-10-22 20:00:00 CST)
    event_rehabilitation (trigger: cron[hour='23', minute='30'], next run at: 2019-10-22 23:30:00 CST)
    event_flag_stock (trigger: cron[hour='8'], next run at: 2019-10-23 08:00:00 CST)
    event_init_stock (trigger: cron[hour='11'], next run at: 2019-10-23 11:00:00 CST)
    event_create_interest_table (trigger: cron[hour='11'], next run at: 2019-10-23 11:00:00 CST)
    event_download_stock_data (trigger: cron[hour='13'], next run at: 2019-10-23 13:00:00 CST)
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
time data '--' does not match format '%Y-%m-%d'
time data '--' does not match format '%Y-%m-%d'
time data '--' does not match format '%Y-%m-%d'
time data '--' does not match format '%Y-%m-%d'
time data '--' does not match format '%Y-%m-%d'
time data '--' does not match format '%Y-%m-%d'
time data '--' does not match format '%Y-%m-%d'
time data '--' does not match format '%Y-%m-%d'
time data '--' does not match format '%Y-%m-%d'
time data '--' does not match format '%Y-%m-%d'
Tue Oct 22 20:07:38 2019: Neutrino is running.

Tue Oct 22 20:07:38 2019: Checking task file.

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
Jobstore default:
    event_rehabilitation (trigger: cron[hour='23', minute='30'], next run at: 2019-10-22 23:30:00 CST)
    event_flag_stock (trigger: cron[hour='8'], next run at: 2019-10-23 08:00:00 CST)
    event_init_stock (trigger: cron[hour='11'], next run at: 2019-10-23 11:00:00 CST)
    event_create_interest_table (trigger: cron[hour='11'], next run at: 2019-10-23 11:00:00 CST)
    event_download_stock_data (trigger: cron[hour='13'], next run at: 2019-10-23 13:00:00 CST)
    event_record_stock (trigger: cron[hour='20'], next run at: 2019-10-23 20:00:00 CST)
    event_record_interest (trigger: cron[hour='20'], next run at: 2019-10-23 20:00:00 CST)
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
time data '--' does not match format '%Y-%m-%d'
time data '--' does not match format '%Y-%m-%d'
time data '--' does not match format '%Y-%m-%d'
